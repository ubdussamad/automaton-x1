<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="author" content="ubdussamad@gmail.com" ><link rel="icon" href="data:image/png;base64,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
RK5CYII=">
<title>Control X1</title><meta name="viewport" content="width=device-width, initial-scale=1">
<style type="text/css" media="screen">html{background:#dadada;}
.center-1{display:flex;flex-direction:column;align-items:center;align-content: center;}
.item { flex-grow: 1;align-self:center;}h1 {font:bold 40px "Courier New";color:grey;}
h4 {font: bold 19px "Courier New";color: #4469a3;text-align: center;}
button {display: block;border-radius: 14px;padding:10px;width: 90px;margin-top:10px;
font-weight: 500;text-align:center;background:#d0d3d4;color:#646464}
.footer {font:900 10px/12px 'Courier New';margin-top: 80px;color: #8a8799}
.si {margin-left:15px;height:2px;width:35px;border: 0.5px solid grey;}
.config-btn {color:#41464e;height:25;}p {margin:3px;}
button:focus,button.focus{outline: 0;}</style>

<script type="text/javascript">
window.onload = function () { 
    loadStates(-1);
}

var x = setInterval(function () { loadStates("-1") } , 10000);
var ids = [];

function loadStates(id) {
    console.log("soT")
    console.log(id,ids);
    
    let request = new XMLHttpRequest();
    if (id == "-1") {
        request.open('GET', "/stat");
    } else {
        window.navigator.vibrate([35]);
        console.log("Sending: ","/gpioX".replace("X", ids[id]))
        request.open('GET', "/gpioX".replace("X", ids[id]));
    }
    request.responseType = 'text';
    request.onload = function() {
        ids=[];
        var rsp = request.response;
        if (rsp.length > 1000 || rsp.length < 5) {
            var x = document.getElementsByClassName('si');
            for (var i=0; i < x.length;i++){
                x[i].style="background-color:yellow;";
            }
            loadStates(-1);
            return;
            return;}
        if (id == -1) {
            rsp = rsp.split('\n', 5)[4];
        }
        var gpd = rsp.split(',');
        var cnf = document.getElementById("confBtn");
        var cont = document.getElementById("btn-container");
        cont.innerHTML = "";
        for (i = 0; i < (gpd.length - 1); i++) {
            var state = gpd[i].split(":")[1];
            var identifier = gpd[i].split(":")[0].split("%xef");
            
            ids.push(identifier[0]);
            if (state == "0") {
                x = "#fa6464";
            } else if (state == "1") {
                x = "#64c864";
            } else {
                x = "grey";
            }
            var btx = document.createElement("button");
            btx.addEventListener("click", loadStates.bind(event,i) );
            console.log(i);
            btx.innerText = identifier[1];
            var led = document.createElement("p");
            led.className = "si";
            led.style = "background-color:" + x;
            btx.appendChild(led);
            cont.appendChild(btx);
        }
        cont.appendChild(cnf);
    };
    request.send();
}

</script>

</head><body><div class="center-1"><div class=".item">
<h1> Control X1 </h1><h4> PLC - Controller </h4></div><div id="btn-container" class=".item">
<button id="confBtn" class="config-btn" style="font-size:25px;padding:5px;color:#646464" onclick = "window.location.href='config'">‚å•</button>
</div><br/><br/><div class=".item, footer"> Automaton X1 - 1V0R03REF1720.<br/>Automation Series Product Line.
<br/><a style="color:#4469a3;">EMD SUBSYSTEMS</a> <br/></div></div></body></html>